<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    ServerName gamestats2.gs.nintendowifi.net
    
    # Logging
    ErrorLog "logs/gamestats-error.log"
    CustomLog "logs/gamestats-access.log" combined
    
    # Preserve real client IP
    RemoteIPHeader X-Forwarded-For
    RemoteIPInternalProxy 172.19.0.0/16
    
    # Proxy to GTS Server (Pokemon Global Trade Station)
    ProxyPreserveHost On
    ProxyPass / http://dwc-gts:9002/
    ProxyPassReverse / http://dwc-gts:9002/
    
    # Forward real client IP
    RequestHeader set X-Real-IP "%{REMOTE_ADDR}s"
    RequestHeader set X-Forwarded-For "%{REMOTE_ADDR}s"
    RequestHeader set X-Forwarded-Proto "http"
</VirtualHost>